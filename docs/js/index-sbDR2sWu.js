import{l as Y,E as Z,m as ee}from"./_plugin-vue_export-helper-BWLaGAZA.js";import{E as te}from"./el-pagination-DAEHwHBi.js";import{E as oe}from"./el-tag-uh34wkjS.js";import"./el-select-DqyLYWoW.js";import"./el-scrollbar-gICCFP9m.js";import"./el-popper-CJXKSruS.js";import"./el-input-DWNXWrNm.js";import{E as se}from"./el-empty-BbMrEjZ5.js";import{E as ae}from"./el-avatar-ChuWczTm.js";import{a as ne,E as le}from"./el-tab-pane-DbixzBi4.js";/* empty css                 */import{E as ie,a as ce}from"./el-col-BHdaAO7V.js";import{d as D}from"./dayjs.min-Bof1u0Bp.js";import{E as re}from"./index-BI4R1RJd.js";import{d as ue,r as w,x as de,l as T,o as me,c as u,a as n,e as t,N as s,f as m,P as f,w as l,F as g,U as h,V as y,L as d,h as H,t as i}from"./index-CX-UEV3f.js";import"./typescript-Bp3YSIOJ.js";import"./aria-CE64aO7b.js";import"./raf-CgTViCYJ.js";import"./_baseClone-BiDlxgIA.js";const pe={class:"forum"},_e={class:"page-container"},ve={class:"page-header mb-24"},fe={class:"page-actions"},ge={class:"stat-card card"},he={class:"stat-icon"},ye={class:"stat-info"},Ce={class:"stat-number"},be={class:"stat-label"},ke={class:"category-tabs mb-24"},Ee={class:"tab-label"},Pe={class:"hot-topics card mb-24"},we={class:"topics-list"},Ae={class:"posts-list"},Ve=["onClick"],ze={class:"post-header"},De={class:"post-user"},Te={class:"user-info"},He={class:"username"},Re={class:"user-role"},Se={class:"post-meta"},xe={class:"post-time"},Fe={class:"post-content"},Me={class:"post-title"},Ue={class:"post-summary"},Be={key:0,class:"post-tags"},Ne={class:"post-stats"},$e={class:"stat-item"},Ie={class:"stat-item"},qe={class:"stat-item"},Le={class:"stat-item last-reply"},je={key:1,class:"pagination-container"},Oe=ue({__name:"index",setup(Qe){const _=w("all"),E=w(!1),p=de({current:1,pageSize:20,total:0}),R=T(()=>[{label:"总主题数",value:"156",icon:"Document",color:"#409EFF"},{label:"总回复数",value:"1,286",icon:"ChatDotRound",color:"#67C23A"},{label:"活跃用户",value:"38",icon:"UserFilled",color:"#E6A23C"},{label:"今日新增",value:"5",icon:"TrendCharts",color:"#F56C6C"}]),A=[{label:"全部",value:"all",icon:"Menu",count:156},{label:"学术讨论",value:"academic",icon:"Reading",count:45},{label:"案例分析",value:"case",icon:"DataAnalysis",count:32},{label:"行业资讯",value:"industry",icon:"Newspaper",count:28},{label:"求助问答",value:"qa",icon:"QuestionFilled",count:24},{label:"经验分享",value:"experience",icon:"Share",count:18},{label:"闲聊灌水",value:"chat",icon:"ChatSquare",count:9}],S=["数字化转型","AI人工智能","供应链管理","企业战略","领导力","品牌营销","创新管理","财务分析","人才培养","商业模式"],V=w([{id:1,title:"关于企业数字化转型的思考与实践",summary:"结合我公司的数字化转型经验，分享一些心得体会和踩过的坑...",content:"",category:"academic",author:{name:"张三",title:"CEO",avatar:"https://cube.elemecdn.com/3/7c/3ea6beec64369c2642b92c6726f1epng.png"},tags:["数字化转型","企业管理","创新"],viewCount:256,replyCount:18,likeCount:32,isPinned:!0,isHot:!0,createdAt:"2024-01-15 14:30:00",lastReplyAt:"2024-01-16 09:15:00"},{id:2,title:"如何构建高效的企业文化体系？",summary:"企业文化是企业发展的根基，如何在快速发展中保持文化传承...",content:"",category:"experience",author:{name:"李四",title:"HR总监",avatar:"https://cube.elemecdn.com/9/c2/f0ee8a3c7c9638a54940382568c9dpng.png"},tags:["企业文化","人力资源","组织管理"],viewCount:189,replyCount:12,likeCount:25,isPinned:!1,isHot:!0,createdAt:"2024-01-14 16:20:00",lastReplyAt:"2024-01-15 11:30:00"},{id:3,title:"AI时代下的商业模式创新",summary:"人工智能正在重塑各个行业，传统商业模式面临哪些挑战...",content:"",category:"industry",author:{name:"王五",title:"CTO",avatar:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"},tags:["人工智能","商业模式","科技创新"],viewCount:143,replyCount:8,likeCount:19,isPinned:!1,isHot:!1,createdAt:"2024-01-13 10:45:00",lastReplyAt:"2024-01-14 15:20:00"}]),P=T(()=>{let a=V.value;return _.value!=="all"&&(a=a.filter(o=>o.category===_.value)),a.sort((o,c)=>o.isPinned&&!c.isPinned?-1:!o.isPinned&&c.isPinned?1:o.isHot&&!c.isHot?-1:!o.isHot&&c.isHot?1:new Date(c.lastReplyAt).getTime()-new Date(o.lastReplyAt).getTime())});me(()=>{p.total=V.value.length});const x=a=>{_.value=a.name},F=()=>{E.value=!0},M=a=>{console.log("查看帖子:",a.title)},U=a=>{console.log("搜索话题:",a)},B=()=>{console.log("发帖成功")},N=a=>{const o=A.find(c=>c.value===a);return o?o.label:"未分类"},$=a=>({academic:"primary",case:"success",industry:"warning",qa:"danger",experience:"info",chat:""})[a]||"info",z=a=>{const o=D(),c=D(a),r=o.diff(c,"minute"),C=o.diff(c,"hour"),b=o.diff(c,"day");return r<60?`${r}分钟前`:C<24?`${C}小时前`:b<7?`${b}天前`:c.format("MM-DD HH:mm")};return(a,o)=>{const c=Y,r=Z,C=ce,b=ie,I=re,q=le,L=ne,v=oe,j=ae,O=y("View"),Q=y("ChatDotRound"),G=y("StarFilled"),J=y("Clock"),K=se,W=te,X=y("CreatePostDialog");return n(),u("div",pe,[t("div",_e,[t("div",ve,[o[5]||(o[5]=t("div",{class:"page-title"},[t("h1",null,"讨论论坛"),t("p",null,"学术讨论，思想碰撞，智慧分享")],-1)),t("div",fe,[s(c,{type:"primary",icon:"EditPen",onClick:F},{default:l(()=>[...o[4]||(o[4]=[d(" 发表主题 ",-1)])]),_:1})])]),s(b,{gutter:16,class:"mb-24"},{default:l(()=>[(n(!0),u(g,null,h(R.value,e=>(n(),m(C,{span:6,key:e.label},{default:l(()=>[t("div",ge,[t("div",he,[s(r,{size:28,color:e.color},{default:l(()=>[(n(),m(H(e.icon)))]),_:2},1032,["color"])]),t("div",ye,[t("div",Ce,i(e.value),1),t("div",be,i(e.label),1)])])]),_:2},1024))),128))]),_:1}),t("div",ke,[s(L,{modelValue:_.value,"onUpdate:modelValue":o[0]||(o[0]=e=>_.value=e),onTabClick:x},{default:l(()=>[(n(),u(g,null,h(A,e=>s(q,{key:e.value,label:e.label,name:e.value},{label:l(()=>[t("span",Ee,[s(r,null,{default:l(()=>[(n(),m(H(e.icon)))]),_:2},1024),d(" "+i(e.label)+" ",1),s(I,{value:e.count,hidden:e.count===0},null,8,["value","hidden"])])]),_:2},1032,["label","name"])),64))]),_:1},8,["modelValue"])]),t("div",Pe,[o[6]||(o[6]=t("div",{class:"section-header"},[t("h3",null,"🔥 热门话题")],-1)),t("div",we,[(n(),u(g,null,h(S,e=>s(v,{key:e,class:"topic-tag",type:"warning",effect:"plain",onClick:k=>U(e)},{default:l(()=>[d(i(e),1)]),_:2},1032,["onClick"])),64))])]),t("div",Ae,[(n(!0),u(g,null,h(P.value,e=>(n(),u("div",{key:e.id,class:"post-item card",onClick:k=>M(e)},[t("div",ze,[t("div",De,[s(j,{src:e.author.avatar,icon:a.UserFilled,size:"medium"},null,8,["src","icon"]),t("div",Te,[t("div",He,i(e.author.name),1),t("div",Re,i(e.author.title),1)])]),t("div",Se,[s(v,{type:$(e.category),size:"small"},{default:l(()=>[d(i(N(e.category)),1)]),_:2},1032,["type"]),t("span",xe,i(z(e.createdAt)),1)])]),t("div",Fe,[t("h3",Me,[d(i(e.title)+" ",1),e.isPinned?(n(),m(v,{key:0,type:"danger",size:"small"},{default:l(()=>[...o[7]||(o[7]=[d("置顶",-1)])]),_:1})):f("",!0),e.isHot?(n(),m(v,{key:1,type:"warning",size:"small"},{default:l(()=>[...o[8]||(o[8]=[d("热门",-1)])]),_:1})):f("",!0)]),t("p",Ue,i(e.summary),1),e.tags&&e.tags.length?(n(),u("div",Be,[(n(!0),u(g,null,h(e.tags,k=>(n(),m(v,{key:k,size:"small",effect:"plain"},{default:l(()=>[d(i(k),1)]),_:2},1024))),128))])):f("",!0)]),t("div",Ne,[t("div",$e,[s(r,null,{default:l(()=>[s(O)]),_:1}),t("span",null,i(e.viewCount),1)]),t("div",Ie,[s(r,null,{default:l(()=>[s(Q)]),_:1}),t("span",null,i(e.replyCount),1)]),t("div",qe,[s(r,null,{default:l(()=>[s(G)]),_:1}),t("span",null,i(e.likeCount),1)]),t("div",Le,[s(r,null,{default:l(()=>[s(J)]),_:1}),t("span",null,i(z(e.lastReplyAt)),1)])])],8,Ve))),128))]),P.value.length===0?(n(),m(K,{key:0,description:"暂无讨论帖子"})):f("",!0),P.value.length>0?(n(),u("div",je,[s(W,{"current-page":p.current,"onUpdate:currentPage":o[1]||(o[1]=e=>p.current=e),"page-size":p.pageSize,"onUpdate:pageSize":o[2]||(o[2]=e=>p.pageSize=e),"page-sizes":[10,20,50],total:p.total,layout:"total, sizes, prev, pager, next, jumper"},null,8,["current-page","page-size","total"])])):f("",!0)]),s(X,{modelValue:E.value,"onUpdate:modelValue":o[3]||(o[3]=e=>E.value=e),onSuccess:B},null,8,["modelValue"])])}}}),pt=ee(Oe,[["__scopeId","data-v-f1ea915d"]]);export{pt as default};
