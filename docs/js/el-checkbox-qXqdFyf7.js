import{B as q,i as I,l as m,g as Q,y as X,E as Y,r as w,G as B,H as ye,aG as J,d as L,k as ee,f as z,a as y,w as ae,e as N,c as E,P,n as V,u,C as le,m as A,a7 as te,a0 as ne,aU as oe,b as K,F as se,L as ue,t as ie,h as re,q as Ve,p as Le,a1 as Se,U as Be}from"./index-CX-UEV3f.js";import{D as W,K as $,F as ce,f as U,I as Ee,G as M,k as O,Z as de,H as Z,J as be,a0 as G,_ as R,a as j,b as Ie,d as D,w as Ne,c as ve}from"./_plugin-vue_export-helper-BWLaGAZA.js";import{e as me,d as fe,y as Fe}from"./aria-CE64aO7b.js";import{U as F,C as T}from"./el-input-DWNXWrNm.js";const he={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},border:Boolean,size:ce,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0},...me(["ariaControls"])},pe={[F]:e=>q(e)||W(e)||$(e),change:e=>q(e)||W(e)||$(e)},S=Symbol("checkboxGroupContextKey"),Ge=({model:e,isChecked:a})=>{const i=I(S,void 0),t=m(()=>{var r,b;const n=(r=i==null?void 0:i.max)==null?void 0:r.value,v=(b=i==null?void 0:i.min)==null?void 0:b.value;return!U(n)&&e.value.length>=n&&!a.value||!U(v)&&e.value.length<=v&&a.value});return{isDisabled:Ee(m(()=>(i==null?void 0:i.disabled.value)||t.value)),isLimitDisabled:t}},De=(e,{model:a,isLimitExceeded:i,hasOwnLabel:t,isDisabled:d,isLabeledByFormItem:r})=>{const b=I(S,void 0),{formItem:n}=M(),{emit:v}=Q();function f(p){var l,g,k,c;return[!0,e.trueValue,e.trueLabel].includes(p)?(g=(l=e.trueValue)!=null?l:e.trueLabel)!=null?g:!0:(c=(k=e.falseValue)!=null?k:e.falseLabel)!=null?c:!1}function o(p,l){v(T,f(p),l)}function s(p){if(i.value)return;const l=p.target;v(T,f(l.checked),p)}async function h(p){i.value||!t.value&&!d.value&&r.value&&(p.composedPath().some(k=>k.tagName==="LABEL")||(a.value=f([!1,e.falseValue,e.falseLabel].includes(a.value)),await Y(),o(a.value,p)))}const x=m(()=>(b==null?void 0:b.validateEvent)||e.validateEvent);return X(()=>e.modelValue,()=>{x.value&&(n==null||n.validate("change").catch(p=>fe()))}),{handleChange:s,onClickRoot:h}},we=e=>{const a=w(!1),{emit:i}=Q(),t=I(S,void 0),d=m(()=>U(t)===!1),r=w(!1),b=m({get(){var n,v;return d.value?(n=t==null?void 0:t.modelValue)==null?void 0:n.value:(v=e.modelValue)!=null?v:a.value},set(n){var v,f;d.value&&B(n)?(r.value=((v=t==null?void 0:t.max)==null?void 0:v.value)!==void 0&&n.length>(t==null?void 0:t.max.value)&&n.length>b.value.length,r.value===!1&&((f=t==null?void 0:t.changeEvent)==null||f.call(t,n))):(i(F,n),a.value=n)}});return{model:b,isGroup:d,isLimitExceeded:r}},ze=(e,a,{model:i})=>{const t=I(S,void 0),d=w(!1),r=m(()=>O(e.value)?e.label:e.value),b=m(()=>{const o=i.value;return $(o)?o:B(o)?ye(r.value)?o.map(J).some(s=>de(s,r.value)):o.map(J).includes(r.value):o!=null?o===e.trueValue||o===e.trueLabel:!!o}),n=Z(m(()=>{var o;return(o=t==null?void 0:t.size)==null?void 0:o.value}),{prop:!0}),v=Z(m(()=>{var o;return(o=t==null?void 0:t.size)==null?void 0:o.value})),f=m(()=>!!a.default||!O(r.value));return{checkboxButtonSize:n,isChecked:b,isFocused:d,checkboxSize:v,hasOwnLabel:f,actualValue:r}},ke=(e,a)=>{const{formItem:i}=M(),{model:t,isGroup:d,isLimitExceeded:r}=we(e),{isFocused:b,isChecked:n,checkboxButtonSize:v,checkboxSize:f,hasOwnLabel:o,actualValue:s}=ze(e,a,{model:t}),{isDisabled:h}=Ge({model:t,isChecked:n}),{inputId:x,isLabeledByFormItem:p}=be(e,{formItemContext:i,disableIdGeneration:o,disableIdManagement:d}),{handleChange:l,onClickRoot:g}=De(e,{model:t,isLimitExceeded:r,hasOwnLabel:o,isDisabled:h,isLabeledByFormItem:p});return(()=>{function c(){var C,_;B(t.value)&&!t.value.includes(s.value)?t.value.push(s.value):t.value=(_=(C=e.trueValue)!=null?C:e.trueLabel)!=null?_:!0}e.checked&&c()})(),G({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},m(()=>d.value&&O(e.value))),G({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},m(()=>!!e.trueLabel)),G({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},m(()=>!!e.falseLabel)),{inputId:x,isLabeledByFormItem:p,isChecked:n,isDisabled:h,isFocused:b,checkboxButtonSize:v,checkboxSize:f,hasOwnLabel:o,model:t,actualValue:s,handleChange:l,onClickRoot:g}},Pe=L({name:"ElCheckbox"}),$e=L({...Pe,props:he,emits:pe,setup(e){const a=e,i=ee(),{inputId:t,isLabeledByFormItem:d,isChecked:r,isDisabled:b,isFocused:n,checkboxSize:v,hasOwnLabel:f,model:o,actualValue:s,handleChange:h,onClickRoot:x}=ke(a,i),p=m(()=>{var c,C,_,H;return a.trueValue||a.falseValue||a.trueLabel||a.falseLabel?{"true-value":(C=(c=a.trueValue)!=null?c:a.trueLabel)!=null?C:!0,"false-value":(H=(_=a.falseValue)!=null?_:a.falseLabel)!=null?H:!1}:{value:s.value}}),l=j("checkbox"),g=m(()=>[l.b(),l.m(v.value),l.is("disabled",b.value),l.is("bordered",a.border),l.is("checked",r.value)]),k=m(()=>[l.e("input"),l.is("disabled",b.value),l.is("checked",r.value),l.is("indeterminate",a.indeterminate),l.is("focus",n.value)]);return(c,C)=>(y(),z(re(!u(f)&&u(d)?"span":"label"),{class:V(u(g)),"aria-controls":c.indeterminate?c.ariaControls:null,onClick:u(x)},{default:ae(()=>[N("span",{class:V(u(k))},[le(N("input",A({id:u(t),"onUpdate:modelValue":_=>te(o)?o.value=_:null,class:u(l).e("original"),type:"checkbox",indeterminate:c.indeterminate,name:c.name,tabindex:c.tabindex,disabled:u(b)},u(p),{onChange:u(h),onFocus:_=>n.value=!0,onBlur:_=>n.value=!1,onClick:ne(()=>{},["stop"])}),null,16,["id","onUpdate:modelValue","indeterminate","name","tabindex","disabled","onChange","onFocus","onBlur","onClick"]),[[oe,u(o)]]),N("span",{class:V(u(l).e("inner"))},null,2)],2),u(f)?(y(),E("span",{key:0,class:V(u(l).e("label"))},[K(c.$slots,"default"),c.$slots.default?P("v-if",!0):(y(),E(se,{key:0},[ue(ie(c.label),1)],64))],2)):P("v-if",!0)]),_:3},8,["class","aria-controls","onClick"]))}});var ge=R($e,[["__file","checkbox.vue"]]);const Ue=L({name:"ElCheckboxButton"}),Oe=L({...Ue,props:he,emits:pe,setup(e){const a=e,i=ee(),{isFocused:t,isChecked:d,isDisabled:r,checkboxButtonSize:b,model:n,actualValue:v,handleChange:f}=ke(a,i),o=m(()=>{var l,g,k,c;return a.trueValue||a.falseValue||a.trueLabel||a.falseLabel?{"true-value":(g=(l=a.trueValue)!=null?l:a.trueLabel)!=null?g:!0,"false-value":(c=(k=a.falseValue)!=null?k:a.falseLabel)!=null?c:!1}:{value:v.value}}),s=I(S,void 0),h=j("checkbox"),x=m(()=>{var l,g,k,c;const C=(g=(l=s==null?void 0:s.fill)==null?void 0:l.value)!=null?g:"";return{backgroundColor:C,borderColor:C,color:(c=(k=s==null?void 0:s.textColor)==null?void 0:k.value)!=null?c:"",boxShadow:C?`-1px 0 0 0 ${C}`:void 0}}),p=m(()=>[h.b("button"),h.bm("button",b.value),h.is("disabled",r.value),h.is("checked",d.value),h.is("focus",t.value)]);return(l,g)=>(y(),E("label",{class:V(u(p))},[le(N("input",A({"onUpdate:modelValue":k=>te(n)?n.value=k:null,class:u(h).be("button","original"),type:"checkbox",name:l.name,tabindex:l.tabindex,disabled:u(r)},u(o),{onChange:u(f),onFocus:k=>t.value=!0,onBlur:k=>t.value=!1,onClick:ne(()=>{},["stop"])}),null,16,["onUpdate:modelValue","name","tabindex","disabled","onChange","onFocus","onBlur","onClick"]),[[oe,u(n)]]),l.$slots.default||l.label?(y(),E("span",{key:0,class:V(u(h).be("button","inner")),style:Ve(u(d)?u(x):void 0)},[K(l.$slots,"default",{},()=>[ue(ie(l.label),1)])],6)):P("v-if",!0)],2))}});var xe=R(Oe,[["__file","checkbox-button.vue"]]);const Te=Ie({modelValue:{type:D(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:ce,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0},options:{type:D(Array)},props:{type:D(Object),default:()=>Ce},...me(["ariaLabel"])}),Ae={[F]:e=>B(e),change:e=>B(e)},Ce={label:"label",value:"value",disabled:"disabled"},Ke=L({name:"ElCheckboxGroup"}),Me=L({...Ke,props:Te,emits:Ae,setup(e,{emit:a}){const i=e,t=j("checkbox"),{formItem:d}=M(),{inputId:r,isLabeledByFormItem:b}=be(i,{formItemContext:d}),n=async s=>{a(F,s),await Y(),a(T,s)},v=m({get(){return i.modelValue},set(s){n(s)}}),f=m(()=>({...Ce,...i.props})),o=s=>{const h={label:s[f.value.label],value:s[f.value.value],disabled:s[f.value.disabled]};return{...s,...h}};return Le(S,{...Fe(Se(i),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:v,changeEvent:n}),X(()=>i.modelValue,(s,h)=>{i.validateEvent&&!de(s,h)&&(d==null||d.validate("change").catch(x=>fe()))}),(s,h)=>{var x;return y(),z(re(s.tag),{id:u(r),class:V(u(t).b("group")),role:"group","aria-label":u(b)?void 0:s.ariaLabel||"checkbox-group","aria-labelledby":u(b)?(x=u(d))==null?void 0:x.labelId:void 0},{default:ae(()=>[K(s.$slots,"default",{},()=>[(y(!0),E(se,null,Be(i.options,(p,l)=>(y(),z(ge,A({key:l},o(p)),null,16))),128))])]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var _e=R(Me,[["__file","checkbox-group.vue"]]);const Je=Ne(ge,{CheckboxButton:xe,CheckboxGroup:_e});ve(xe);ve(_e);export{Je as E};
