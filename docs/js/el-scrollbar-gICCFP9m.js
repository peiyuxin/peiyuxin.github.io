import{a as ce,g as G,e as ue,b as J}from"./aria-CE64aO7b.js";import{d as K,i as ae,r as S,l as R,z as fe,K as Q,f as P,a as O,w as le,C as ve,e as $,a0 as de,n as D,u as T,q as j,D as pe,T as me,c as re,N as Z,F as be,y as F,p as he,x as Se,aJ as Ee,o as ye,E as ee,W as we,P as Te,b as ge,h as _e,H as ze,G as I,a6 as M,a3 as Ne,aK as He}from"./index-CX-UEV3f.js";import{b as V,_ as X,a as ne,N as ie,D as A,d as Le,a2 as te,w as Re,O as Ce}from"./_plugin-vue_export-helper-BWLaGAZA.js";const L=4,Ae={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},Oe=({move:e,size:l,bar:a})=>({[a.size]:l,transform:`translate${a.axis}(${e}%)`}),q=Symbol("scrollbarContextKey"),De=V({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),Me="Thumb",Be=K({__name:"thumb",props:De,setup(e){const l=e,a=ae(q),o=ne("scrollbar");a||ce(Me,"can not inject scrollbar context");const r=S(),i=S(),d=S({}),p=S(!1);let c=!1,u=!1,m=0,E=0,n=ie?document.onselectstart:null;const t=R(()=>Ae[l.vertical?"vertical":"horizontal"]),h=R(()=>Oe({size:l.size,move:l.move,bar:t.value})),y=R(()=>r.value[t.value.offset]**2/a.wrapElement[t.value.scrollSize]/l.ratio/i.value[t.value.offset]),N=v=>{var w;if(v.stopPropagation(),v.ctrlKey||[1,2].includes(v.button))return;(w=window.getSelection())==null||w.removeAllRanges(),_(v);const b=v.currentTarget;b&&(d.value[t.value.axis]=b[t.value.offset]-(v[t.value.client]-b.getBoundingClientRect()[t.value.direction]))},g=v=>{if(!i.value||!r.value||!a.wrapElement)return;const w=Math.abs(v.target.getBoundingClientRect()[t.value.direction]-v[t.value.client]),b=i.value[t.value.offset]/2,s=(w-b)*100*y.value/r.value[t.value.offset];a.wrapElement[t.value.scroll]=s*a.wrapElement[t.value.scrollSize]/100},_=v=>{v.stopImmediatePropagation(),c=!0,m=a.wrapElement.scrollHeight,E=a.wrapElement.scrollWidth,document.addEventListener("mousemove",B),document.addEventListener("mouseup",C),n=document.onselectstart,document.onselectstart=()=>!1},B=v=>{if(!r.value||!i.value||c===!1)return;const w=d.value[t.value.axis];if(!w)return;const b=(r.value.getBoundingClientRect()[t.value.direction]-v[t.value.client])*-1,s=i.value[t.value.offset]-w,f=(b-s)*100*y.value/r.value[t.value.offset];t.value.scroll==="scrollLeft"?a.wrapElement[t.value.scroll]=f*E/100:a.wrapElement[t.value.scroll]=f*m/100},C=()=>{c=!1,d.value[t.value.axis]=0,document.removeEventListener("mousemove",B),document.removeEventListener("mouseup",C),x(),u&&(p.value=!1)},U=()=>{u=!1,p.value=!!l.size},k=()=>{u=!0,p.value=c};fe(()=>{x(),document.removeEventListener("mouseup",C)});const x=()=>{document.onselectstart!==n&&(document.onselectstart=n)};return G(Q(a,"scrollbarElement"),"mousemove",U),G(Q(a,"scrollbarElement"),"mouseleave",k),(v,w)=>(O(),P(me,{name:T(o).b("fade"),persisted:""},{default:le(()=>[ve($("div",{ref_key:"instance",ref:r,class:D([T(o).e("bar"),T(o).is(T(t).key)]),onMousedown:g,onClick:de(()=>{},["stop"])},[$("div",{ref_key:"thumb",ref:i,class:D(T(o).e("thumb")),style:j(T(h)),onMousedown:N},null,38)],42,["onClick"]),[[pe,v.always||p.value]])]),_:1},8,["name"]))}});var oe=X(Be,[["__file","thumb.vue"]]);const ke=V({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),xe=K({__name:"bar",props:ke,setup(e,{expose:l}){const a=e,o=ae(q),r=S(0),i=S(0),d=S(""),p=S(""),c=S(1),u=S(1);return l({handleScroll:n=>{if(n){const t=n.offsetHeight-L,h=n.offsetWidth-L;i.value=n.scrollTop*100/t*c.value,r.value=n.scrollLeft*100/h*u.value}},update:()=>{const n=o==null?void 0:o.wrapElement;if(!n)return;const t=n.offsetHeight-L,h=n.offsetWidth-L,y=t**2/n.scrollHeight,N=h**2/n.scrollWidth,g=Math.max(y,a.minSize),_=Math.max(N,a.minSize);c.value=y/(t-y)/(g/(t-g)),u.value=N/(h-N)/(_/(h-_)),p.value=g+L<t?`${g}px`:"",d.value=_+L<h?`${_}px`:""}}),(n,t)=>(O(),re(be,null,[Z(oe,{move:r.value,ratio:u.value,size:d.value,always:n.always},null,8,["move","ratio","size","always"]),Z(oe,{move:i.value,ratio:c.value,size:p.value,vertical:"",always:n.always},null,8,["move","ratio","size","always"])],64))}});var We=X(xe,[["__file","bar.vue"]]);const Ye=V({distance:{type:Number,default:0},height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:Boolean,wrapStyle:{type:Le([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},tabindex:{type:[String,Number],default:void 0},id:String,role:String,...ue(["ariaLabel","ariaOrientation"])}),Ie={"end-reached":e=>["left","right","top","bottom"].includes(e),scroll:({scrollTop:e,scrollLeft:l})=>[e,l].every(A)},Ke="ElScrollbar",Ue=K({name:Ke}),Ge=K({...Ue,props:Ye,emits:Ie,setup(e,{expose:l,emit:a}){const o=e,r=ne("scrollbar");let i,d,p,c=0,u=0,m="";const E={bottom:!1,top:!1,right:!1,left:!1},n=S(),t=S(),h=S(),y=S(),N=R(()=>{const s={};return o.height&&(s.height=te(o.height)),o.maxHeight&&(s.maxHeight=te(o.maxHeight)),[o.wrapStyle,s]}),g=R(()=>[o.wrapClass,r.e("wrap"),{[r.em("wrap","hidden-default")]:!o.native}]),_=R(()=>[r.e("view"),o.viewClass]),B=s=>{var f;return(f=E[s])!=null?f:!1},C={top:"bottom",bottom:"top",left:"right",right:"left"},U=s=>{const f=C[m];if(!f)return;const H=s[m],W=s[f];H&&!E[m]&&(E[m]=!0),!W&&E[f]&&(E[f]=!1)},k=()=>{var s;if(t.value){(s=y.value)==null||s.handleScroll(t.value);const f=c,H=u;c=t.value.scrollTop,u=t.value.scrollLeft;const W={bottom:c+t.value.clientHeight>=t.value.scrollHeight-o.distance,top:c<=o.distance&&f!==0,right:u+t.value.clientWidth>=t.value.scrollWidth-o.distance&&H!==u,left:u<=o.distance&&H!==0};if(a("scroll",{scrollTop:c,scrollLeft:u}),f!==c&&(m=c>f?"bottom":"top"),H!==u&&(m=u>H?"right":"left"),o.distance>0){if(B(m))return;U(W)}W[m]&&a("end-reached",m)}};function x(s,f){ze(s)?t.value.scrollTo(s):A(s)&&A(f)&&t.value.scrollTo(s,f)}const v=s=>{A(s)&&(t.value.scrollTop=s)},w=s=>{A(s)&&(t.value.scrollLeft=s)},b=()=>{var s;(s=y.value)==null||s.update(),E[m]=!1};return F(()=>o.noresize,s=>{s?(i==null||i(),d==null||d(),p==null||p()):({stop:i}=J(h,b),{stop:d}=J(t,b),p=G("resize",b))},{immediate:!0}),F(()=>[o.maxHeight,o.height],()=>{o.native||ee(()=>{var s;b(),t.value&&((s=y.value)==null||s.handleScroll(t.value))})}),he(q,Se({scrollbarElement:n,wrapElement:t})),Ee(()=>{t.value&&(t.value.scrollTop=c,t.value.scrollLeft=u)}),ye(()=>{o.native||ee(()=>{b()})}),we(()=>b()),l({wrapRef:t,update:b,scrollTo:x,setScrollTop:v,setScrollLeft:w,handleScroll:k}),(s,f)=>(O(),re("div",{ref_key:"scrollbarRef",ref:n,class:D(T(r).b())},[$("div",{ref_key:"wrapRef",ref:t,class:D(T(g)),style:j(T(N)),tabindex:s.tabindex,onScroll:k},[(O(),P(_e(s.tag),{id:s.id,ref_key:"resizeRef",ref:h,class:D(T(_)),style:j(s.viewStyle),role:s.role,"aria-label":s.ariaLabel,"aria-orientation":s.ariaOrientation},{default:le(()=>[ge(s.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],46,["tabindex"]),s.native?Te("v-if",!0):(O(),P(We,{key:0,ref_key:"barRef",ref:y,always:s.always,"min-size":s.minSize},null,8,["always","min-size"]))],2))}});var Pe=X(Ge,[["__file","scrollbar.vue"]]);const qe=Re(Pe);var $e=(e=>(e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL",e))($e||{});const Je=e=>{if(!M(e))return{};const l=e.props||{},a=(M(e.type)?e.type.props:void 0)||{},o={};return Object.keys(a).forEach(r=>{Ne(a[r],"default")&&(o[r]=a[r].default)}),Object.keys(l).forEach(r=>{o[He(r)]=l[r]}),o},Y=e=>{const l=I(e)?e:[e],a=[];return l.forEach(o=>{var r;I(o)?a.push(...Y(o)):M(o)&&((r=o.component)!=null&&r.subTree)?a.push(o,...Y(o.component.subTree)):M(o)&&I(o.children)?a.push(...Y(o.children)):M(o)&&o.shapeFlag===2?a.push(...Y(o.type())):a.push(o)}),a},z=new Map;if(ie){let e;document.addEventListener("mousedown",l=>e=l),document.addEventListener("mouseup",l=>{if(e){for(const a of z.values())for(const{documentHandler:o}of a)o(l,e);e=void 0}})}function se(e,l){let a=[];return I(l.arg)?a=l.arg:Ce(l.arg)&&a.push(l.arg),function(o,r){const i=l.instance.popperRef,d=o.target,p=r==null?void 0:r.target,c=!l||!l.instance,u=!d||!p,m=e.contains(d)||e.contains(p),E=e===d,n=a.length&&a.some(h=>h==null?void 0:h.contains(d))||a.length&&a.includes(p),t=i&&(i.contains(d)||i.contains(p));c||u||m||E||n||t||l.value(o,r)}}const Qe={beforeMount(e,l){z.has(e)||z.set(e,[]),z.get(e).push({documentHandler:se(e,l),bindingFn:l.value})},updated(e,l){z.has(e)||z.set(e,[]);const a=z.get(e),o=a.findIndex(i=>i.bindingFn===l.oldValue),r={documentHandler:se(e,l),bindingFn:l.value};o>=0?a.splice(o,1,r):a.push(r)},unmounted(e){z.delete(e)}};export{Qe as C,qe as E,$e as P,Y as f,Je as g,Ie as s};
