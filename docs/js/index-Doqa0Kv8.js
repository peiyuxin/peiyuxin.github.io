import{l as S,E as B,m as L}from"./_plugin-vue_export-helper-BWLaGAZA.js";import{a as h,E as z}from"./el-form-item-N44zQUWy.js";import{E as F}from"./el-checkbox-qXqdFyf7.js";import{E as N}from"./el-input-DWNXWrNm.js";import{d as R,r as w,x as M,c as U,a as q,e as o,N as s,w as r,a0 as A,u as g,aR as G,X as T,aS as J,L as t,t as K,aT as O,V as P,S as D}from"./index-CX-UEV3f.js";import{_ as X}from"./logo-Ft4BtHHg.js";import{E as u}from"./index-BJVhqlfn.js";import"./aria-CE64aO7b.js";import"./_baseClone-BiDlxgIA.js";import"./typescript-Bp3YSIOJ.js";import"./index-BI4R1RJd.js";const $={class:"login"},j={class:"login-container"},H={class:"login-card"},Q={class:"login-options"},W={class:"quick-login"},Y={class:"quick-actions"},Z=R({__name:"index",setup(ee){const p=D(),c=w(),i=w(!1),l=M({username:"",password:"",remember:!1}),b={username:[{required:!0,message:"请输入用户名或学号",trigger:"blur"},{min:3,message:"用户名长度不能少于3个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度不能少于6个字符",trigger:"blur"}]},x=[{username:"peixinxin",password:"123456",name:"裴心心"},{username:"zhangsan",password:"123456",name:"张三"},{username:"admin",password:"admin123",name:"管理员"}],f=async()=>{if(c.value)try{await c.value.validate(),i.value=!0,await new Promise(e=>setTimeout(e,1500));const n=x.find(e=>e.username===l.username&&e.password===l.password);n?(u.success(`欢迎回来，${n.name}！`),l.remember&&localStorage.setItem("loginInfo",JSON.stringify({username:l.username,remember:!0})),p.push("/dashboard")):u.error("用户名或密码错误")}catch(n){console.error("登录失败:",n)}finally{i.value=!1}},y=()=>{u.info("请联系班级管理员重置密码")},E=()=>{u.success("以访客身份进入系统"),p.push("/dashboard")},k=()=>{p.push("/group-lottery")};return(()=>{const n=localStorage.getItem("loginInfo");if(n)try{const e=JSON.parse(n);e.remember&&(l.username=e.username,l.remember=!0)}catch(e){console.error("解析保存的登录信息失败:",e)}})(),(n,e)=>{const v=N,m=z,V=F,d=S,I=h,_=B,C=P("Gift");return q(),U("div",$,[e[11]||(e[11]=o("div",{class:"background"},[o("div",{class:"wave wave1"}),o("div",{class:"wave wave2"}),o("div",{class:"wave wave3"})],-1)),o("div",j,[o("div",H,[e[9]||(e[9]=o("div",{class:"login-header"},[o("div",{class:"logo"},[o("img",{src:X,alt:"RUC EMBA",class:"logo-img"}),o("div",{class:"logo-text"},[o("h1",null,"人民大学EMBA2501班"),o("p",null,"学习交流平台")])])],-1)),s(I,{ref_key:"loginFormRef",ref:c,model:l,rules:b,class:"login-form",onSubmit:A(f,["prevent"])},{default:r(()=>[e[5]||(e[5]=o("div",{class:"form-title"},[o("h2",null,"欢迎登录"),o("p",null,"请输入您的登录信息")],-1)),s(m,{prop:"username"},{default:r(()=>[s(v,{modelValue:l.username,"onUpdate:modelValue":e[0]||(e[0]=a=>l.username=a),placeholder:"请输入用户名/学号",size:"large","prefix-icon":g(G),clearable:""},null,8,["modelValue","prefix-icon"])]),_:1}),s(m,{prop:"password"},{default:r(()=>[s(v,{modelValue:l.password,"onUpdate:modelValue":e[1]||(e[1]=a=>l.password=a),type:"password",placeholder:"请输入密码",size:"large","prefix-icon":g(J),"show-password":"",clearable:"",onKeyup:T(f,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),s(m,null,{default:r(()=>[o("div",Q,[s(V,{modelValue:l.remember,"onUpdate:modelValue":e[2]||(e[2]=a=>l.remember=a)},{default:r(()=>[...e[3]||(e[3]=[t("记住我",-1)])]),_:1},8,["modelValue"]),s(d,{type:"text",onClick:y},{default:r(()=>[...e[4]||(e[4]=[t(" 忘记密码？ ",-1)])]),_:1})])]),_:1}),s(m,null,{default:r(()=>[s(d,{type:"primary",size:"large",class:"login-btn",loading:i.value,onClick:f},{default:r(()=>[t(K(i.value?"登录中...":"立即登录"),1)]),_:1},8,["loading"])]),_:1})]),_:1},8,["model"]),o("div",W,[e[8]||(e[8]=o("div",{class:"divider"},[o("span",null,"或者")],-1)),o("div",Y,[s(d,{size:"large",class:"guest-btn",onClick:E},{default:r(()=>[s(_,null,{default:r(()=>[s(g(O))]),_:1}),e[6]||(e[6]=t(" 访客浏览 ",-1))]),_:1}),s(d,{size:"large",class:"lottery-btn",onClick:k},{default:r(()=>[s(_,null,{default:r(()=>[s(C)]),_:1}),e[7]||(e[7]=t(" 分组查询 ",-1))]),_:1})])]),e[10]||(e[10]=o("div",{class:"login-footer"},[o("p",null,"如有问题，请联系班级管理员"),o("div",{class:"contact-info"},[o("span",null,"📧 admin@ruc-emba2501.com"),o("span",null,"📞 010-12345678")])],-1))])]),e[12]||(e[12]=o("div",{class:"copyright"},[o("p",null,"© 2024 人民大学EMBA2501班. All rights reserved.")],-1))])}}}),ce=L(Z,[["__scopeId","data-v-9c9660e9"]]);export{ce as default};
